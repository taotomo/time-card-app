# Time Card App

å‹¤æ€ ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - Laravel 10.x + Dockerç’°å¢ƒã§æ§‹ç¯‰ã•ã‚Œã‚‹å‡ºé€€å‹¤ç®¡ç†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ“‹ ç›®æ¬¡
- [ç’°å¢ƒæ§‹ç¯‰](#ç’°å¢ƒæ§‹ç¯‰)
- [ä½¿ç”¨æŠ€è¡“](#ä½¿ç”¨æŠ€è¡“)
- [æ©Ÿèƒ½ä¸€è¦§](#æ©Ÿèƒ½ä¸€è¦§)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](#ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ)
- [ãƒ†ãƒ¼ãƒ–ãƒ«ä»•æ§˜æ›¸](#ãƒ†ãƒ¼ãƒ–ãƒ«ä»•æ§˜æ›¸)
- [ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±](#ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±)

---

## ğŸš€ ç’°å¢ƒæ§‹ç¯‰

### å¿…è¦ãªæŠ€è¡“
- Docker
- Docker Compose

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

```bash
# 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone [repository-url]
cd time-card-app

# 2. Dockerç’°å¢ƒã®æ§‹ç¯‰ã¨èµ·å‹•
docker-compose up -d --build

# 3. Composerä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
docker-compose exec php composer install

# 4. ç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ”ãƒ¼
cp src/.env.example src/.env

# 5. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ã®ç”Ÿæˆ
docker-compose exec php php artisan key:generate

# 6. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ & ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
docker-compose exec php php artisan migrate:fresh --seed

# 7. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
# http://localhost
```

---

## ğŸ›  ä½¿ç”¨æŠ€è¡“

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ |
|---------|------|
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | Laravel 10.x |
| èªè¨¼ | Laravel Fortify |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | MySQL 8.0 |
| Webã‚µãƒ¼ãƒãƒ¼ | Nginx |
| ã‚³ãƒ³ãƒ†ãƒŠ | Docker & Docker Compose |
| ãƒ¡ãƒ¼ãƒ«ç¢ºèª | MailHog |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Blade Templates |

---

## âœ¨ æ©Ÿèƒ½ä¸€è¦§

### ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆã‚¹ã‚¿ãƒƒãƒ•ï¼‰
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆãƒ¡ãƒ¼ãƒ«èªè¨¼å¿…é ˆï¼‰
- âœ… å‡ºé€€å‹¤æ‰“åˆ»ï¼ˆå‡ºå‹¤ãƒ»é€€å‹¤ãƒ»ä¼‘æ†©é–‹å§‹ãƒ»ä¼‘æ†©çµ‚äº†ï¼‰
- âœ… å‹¤æ€ ä¸€è¦§è¡¨ç¤ºï¼ˆæœˆæ¬¡ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å½¢å¼ï¼‰
- âœ… å‹¤æ€ è©³ç´°ãƒ»ä¿®æ­£ç”³è«‹
- âœ… ä¿®æ­£ç”³è«‹ä¸€è¦§ï¼ˆæ‰¿èªå¾…ã¡ãƒ»æ‰¿èªæ¸ˆã¿ï¼‰

### ç®¡ç†è€…
- âœ… ãƒ­ã‚°ã‚¤ãƒ³
- âœ… æ—¥ä»˜åˆ¥å‹¤æ€ ä¸€è¦§è¡¨ç¤º
- âœ… ã‚¹ã‚¿ãƒƒãƒ•åˆ¥å‹¤æ€ è©³ç´°ãƒ»æœˆæ¬¡å‹¤æ€ 
- âœ… ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§è¡¨ç¤º
- âœ… ä¿®æ­£ç”³è«‹ä¸€è¦§ï¼ˆæ‰¿èªå¾…ã¡ãƒ»æ‰¿èªæ¸ˆã¿ï¼‰
- âœ… ä¿®æ­£ç”³è«‹æ‰¿èªæ©Ÿèƒ½
- âœ… CSVå‡ºåŠ›ï¼ˆã‚¹ã‚¿ãƒƒãƒ•åˆ¥æœˆæ¬¡å‹¤æ€ ï¼‰

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ERå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       users             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚
â”‚ name                    â”‚
â”‚ email (UNIQUE)          â”‚
â”‚ email_verified_at       â”‚
â”‚ password                â”‚
â”‚ remember_token          â”‚
â”‚ created_at              â”‚
â”‚ updated_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ 1
            â”‚
            â”‚ *
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     attendances         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚
â”‚ user_id (FK)            â”‚â”€â”€â”€â”€â”
â”‚ clock_in                â”‚    â”‚
â”‚ clock_out               â”‚    â”‚
â”‚ break_times (JSON)      â”‚    â”‚
â”‚ remarks                 â”‚    â”‚
â”‚ approval_status         â”‚    â”‚
â”‚ created_at              â”‚    â”‚
â”‚ updated_at              â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                               â”‚
                               â”‚
                               â””â”€â†’ users.id
```

### ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **users 1 : N attendances**
  - 1äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è¤‡æ•°ã®å‹¤æ€ è¨˜éŒ²ã‚’æŒã¤
  - 1ã¤ã®å‹¤æ€ è¨˜éŒ²ã¯1äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç´ã¥ã

---

## ğŸ“ ãƒ†ãƒ¼ãƒ–ãƒ«ä»•æ§˜æ›¸

### 1. usersãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼‰

| ã‚«ãƒ©ãƒ å | å‹ | PRIMARY KEY | UNIQUE KEY | NOT NULL | FOREIGN KEY | èª¬æ˜ |
|---------|-----|-------------|------------|----------|-------------|------|
| id | unsigned bigint | â—‹ | - | â—‹ | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| name | varchar(255) | - | - | â—‹ | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼å |
| email | varchar(255) | - | â—‹ | â—‹ | - | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ |
| email_verified_at | timestamp | - | - | - | - | ãƒ¡ãƒ¼ãƒ«èªè¨¼æ—¥æ™‚ |
| password | varchar(255) | - | - | â—‹ | - | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆãƒãƒƒã‚·ãƒ¥åŒ–ï¼‰ |
| remember_token | varchar(100) | - | - | - | - | ãƒ­ã‚°ã‚¤ãƒ³ä¿æŒãƒˆãƒ¼ã‚¯ãƒ³ |
| created_at | timestamp | - | - | - | - | ä½œæˆæ—¥æ™‚ |
| updated_at | timestamp | - | - | - | - | æ›´æ–°æ—¥æ™‚ |

**å‚™è€ƒ:**
- ç®¡ç†è€…ã¨ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åŒã˜ãƒ†ãƒ¼ãƒ–ãƒ«ã§ç®¡ç†
- ç®¡ç†è€…åˆ¤å®š: `email = 'admin@example.com'`

---

### 2. attendancesãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆå‹¤æ€ è¨˜éŒ²ï¼‰

| ã‚«ãƒ©ãƒ å | å‹ | PRIMARY KEY | UNIQUE KEY | NOT NULL | FOREIGN KEY | èª¬æ˜ |
|---------|-----|-------------|------------|----------|-------------|------|
| id | unsigned bigint | â—‹ | - | â—‹ | - | å‹¤æ€ ID |
| user_id | unsigned bigint | - | - | â—‹ | users(id) | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |
| clock_in | datetime | - | - | â—‹ | - | å‡ºå‹¤æ™‚åˆ» |
| clock_out | datetime | - | - | - | - | é€€å‹¤æ™‚åˆ» |
| break_times | json | - | - | - | - | ä¼‘æ†©æ™‚é–“ï¼ˆè¤‡æ•°å¯¾å¿œï¼‰<br>ä¾‹: `[{"start":"12:00","end":"13:00"}]` |
| remarks | text | - | - | - | - | å‚™è€ƒï¼ˆä¿®æ­£ç†ç”±ãªã©ï¼‰ |
| approval_status | tinyint | - | - | â—‹ | - | æ‰¿èªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹<br>0: é€šå¸¸<br>1: æ‰¿èªå¾…ã¡<br>2: æ‰¿èªæ¸ˆã¿ |
| created_at | timestamp | - | - | - | - | ä½œæˆæ—¥æ™‚ |
| updated_at | timestamp | - | - | - | - | æ›´æ–°æ—¥æ™‚ |

**å‚™è€ƒ:**
- `user_id` ã¯å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã‚ã‚Šï¼ˆ`ON DELETE CASCADE`ï¼‰
- `break_times` ã¯JSONå½¢å¼ã§è¤‡æ•°ã®ä¼‘æ†©æ™‚é–“ã‚’ä¿å­˜å¯èƒ½
- `approval_status` ã«ã‚ˆã‚Šä¿®æ­£ç”³è«‹ã®çŠ¶æ…‹ã‚’ç®¡ç†

---

## ğŸ”‘ ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±

### ç®¡ç†è€…
- **ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹**: `admin@example.com`
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰**: `password123`

### ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼
| åå‰ | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ |
|------|--------------|-----------|
| è¥¿ä¿Šä»‹ | nishi@example.com | password123 |
| å±±ç”°å¤ªéƒ | yamada@example.com | password123 |
| å±±ç”°èŠ±å­ | hanako@example.com | password123 |

---

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
time-card-app/
â”œâ”€â”€ docker/                    # Dockerè¨­å®š
â”‚   â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ php/
â”œâ”€â”€ src/                       # Laravelã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceController.php  # ç®¡ç†è€…ç”¨å‹¤æ€ ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StaffController.php       # ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨
â”‚   â”‚   â”‚   â””â”€â”€ Requests/
â”‚   â”‚   â””â”€â”€ Models/
â”‚   â”‚       â”œâ”€â”€ User.php
â”‚   â”‚       â””â”€â”€ Attendance.php
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ seeders/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ css/              # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â””â”€â”€ views/
â”‚   â”‚       â”œâ”€â”€ layouts/      # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚       â”œâ”€â”€ staff/        # ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”»é¢
â”‚   â”‚       â”œâ”€â”€ attendance/   # ç®¡ç†è€…ç”»é¢
â”‚   â”‚       â””â”€â”€ components/   # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ routes/
â”‚       â””â”€â”€ web.php
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

---

## ğŸŒ URLä¸€è¦§

### ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼
- ãƒ­ã‚°ã‚¤ãƒ³: `http://localhost/login`
- å‹¤æ€ æ‰“åˆ»: `http://localhost/attendance`
- å‹¤æ€ ä¸€è¦§: `http://localhost/attendance/list`
- ç”³è«‹ä¸€è¦§: `http://localhost/requests`

### ç®¡ç†è€…
- ãƒ­ã‚°ã‚¤ãƒ³: `http://localhost/admin/login`
- å‹¤æ€ ä¸€è¦§: `http://localhost/admin/attendance/list`
- ã‚¹ã‚¿ãƒƒãƒ•ä¸€è¦§: `http://localhost/admin/staff/list`
- ç”³è«‹ä¸€è¦§: `http://localhost/admin/requests`

### ãã®ä»–
- MailHogï¼ˆãƒ¡ãƒ¼ãƒ«ç¢ºèªï¼‰: `http://localhost:8025`
- phpMyAdmin: `http://localhost:8080`

---

## ğŸ“§ ãƒ¡ãƒ¼ãƒ«èªè¨¼ã«ã¤ã„ã¦

ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ–°è¦ç™»éŒ²å¾Œã€ãƒ¡ãƒ¼ãƒ«èªè¨¼ãŒå¿…è¦ã§ã™ï¼š
1. æ–°è¦ç™»éŒ²å®Œäº†å¾Œã€èªè¨¼ãƒ¡ãƒ¼ãƒ«é€ä¿¡ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
2. MailHogï¼ˆ`http://localhost:8025`ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹
3. å—ä¿¡ã—ãŸãƒ¡ãƒ¼ãƒ«ã‹ã‚‰èªè¨¼ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯
4. èªè¨¼å®Œäº†å¾Œã€å‹¤æ€ æ‰“åˆ»ç”»é¢ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã¾ã™

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒªã‚»ãƒƒãƒˆ

```bash
# ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆ
docker-compose exec php php artisan migrate:fresh --seed
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [Laravel 10.x ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://laravel.com/docs/10.x)
- [Laravel Fortify](https://laravel.com/docs/10.x/fortify)
- [Dockerå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.docker.com/)
